@page "/todos"
@rendermode InteractiveServer

<h3>Todos for user @CurrentUser.ID: @CurrentUser.Name</h3>
@* <InputCheckbox></InputCheckbox>
<InputText></InputText> *@
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Completed</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var todo in _currentUserTodos)
        {
            <tr>
                <td>@todo.Id</td>
                <td>@todo.Title</td>
                <td>@todo.Completed</td>
            </tr>
        }
    </tbody>
</table>
@code {
    [Parameter]
    public User CurrentUser { get; set; }

    private JSONDataAccess _dataAccess = new JSONDataAccess();
    private List<ToDo> _currentUserTodos = new List<ToDo>();

    protected override void OnParametersSet()
    {
        _currentUserTodos = _dataAccess.GetToDos().GetSpecificUserTodos(CurrentUser.ID);
    }
}
